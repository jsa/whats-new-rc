{% extends "base.html" %}

{% block css %}
{{ super() }}
<style type="text/css">
.search-result img { max-width: 200px; }
span.label-hk { background-color: #ff8f00; color: white; }
.caption .sku { color: #a0a0a0; margin-left: 0.5em; }
</style>
{% endblock %}

{% block body %}
<div class="jumbotron">
	<div class="container">
		<h1>What's new RC</h1>
		<p>See latest products from various RC web shops.</p>
	</div>
</div>
<div class="container">
	<p>{{ total_count }} results</p>
	<div class="row">
		{% for item in items %}
		<div class="col-sm-6 col-md-3 search-result">
			<div class="thumbnail">
				<img src="{{ item.photo_url }}" alt="{{ item.title }}">
				<div class="caption">
					<p>
						<span class="label label-{{ item.store.id }}">{{ item.store.title }}</span>
						<small class="sku">{{ item.sku }}</small>
					</p>
					<h4>
						<a href="{{ item.url }}" target="_blank">{{ item.title }}</a>
					</h4>
					<h4>{{ item.price }}</h4>
					<p>{{ item.added }}</p>
				</div>
			</div>
		</div>
		{% if not loop.index % 4 %}
		</div><div class="row">
		{% endif %}
		{% else %}
		<p>No items.</p>
		{% endfor %}
	</div>

	{% if paging %}
	<nav aria-label="Page navigation">
		<ul class="pagination">
			{% if paging.prev %}
			<li>
				<a href="{{ paging.prev.1 }}" aria-label="Previous">
					<span aria-hidden="true">&laquo;</span>
				</a>
			</li>
			{% endif %}
			{% for n, q, a in paging.range %}
			{% if a %}
			<li class="active">
				<a href="{{ q }}">{{ n }} <span class="sr-only">(current)</span></a>
			</li>
			{% else %}
			<li><a href="{{ q }}">{{ n }}</a></li>
			{% endif %}
			{% endfor %}
			{% if paging.next %}
			<li>
				<a href="{{ paging.next.1 }}" aria-label="Next">
					<span aria-hidden="true">&raquo;</span>
				</a>
			</li>
			{% endif %}
		</ul>
	</nav>
	{% endif %}
</div>
{% endblock %}
