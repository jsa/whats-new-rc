{% extends "base.html" %}

{% block css %}
{{ super() }}
<style type="text/css">
</style>
{% endblock %}

{% block body %}
<div class="jumbotron">
	<div class="container">
		<h1>{{ store.title }} product categories</h1>
	</div>
</div>

<div class="container">
	<div class="row">
		{% for cat in tree %}
		<div class="panel panel-default">
			<div class="panel-heading">
				<h3 class="panel-title">
					<a href="/?c={{ cat.id }}">{{ cat.title }}</a>
					{% if cat.item_count %}({{ cat.item_count }}){% endif %}
				</h3>
			</div>
			{% if cat.children %}
			<div class="panel-body">
				<ul class="submenu">
					{% for cat in cat.children recursive %}
					<li>
						<a href="/?c={{ cat.id }}">{{ cat.title }}</a>
						{% if cat.item_count %}({{ cat.item_count }}){% endif %}
					</li>
					{% if cat.children %}
					<ul class="submenu">
						{{ loop(cat.children) }}
					</ul>
					{% endif %}
					{% endfor %}
				</ul>
			</div>
			{% endif %}
		</div>
		{% endfor %}
	</div>
</div>
{% endblock %}
