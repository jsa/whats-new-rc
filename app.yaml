runtime: python27
api_version: 1
threadsafe: true

instance_class: F1
automatic_scaling:
  min_idle_instances: 0
  max_idle_instances: 0
  min_pending_latency: 50ms
  max_pending_latency: 300ms
  max_concurrent_requests: 8

builtins:
- deferred: on
- remote_api: on

inbound_services:
- mail
- mail_bounce
- warmup

libraries:
- name: jinja2
  version: "2.6"
- name: webapp2
  version: "2.5.2"

skip_files:
- ^\.
- ^[^/]+\.html$
- ^.*\.md$
- ^.*\.py[co]$
- ^.*/config\.json$

handlers:
- url: /a
  static_dir: assets
  expiration: "10s"

- url: /_ah/bounce
  script: inmail.app
  login: admin

- url: /_ah/mail/.+
  script: inmail.app
  login: admin

- url: /_ah/queue/deferred
  script: google.appengine.ext.deferred.deferred.application
  login: admin

- url: /.*
  script: main.app
